(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{18:function(e,t,r){},19:function(e,t,r){},20:function(e,t,r){},21:function(e,t,r){},22:function(e,t,r){"use strict";r.r(t);var c=r(3),n=r.n(c),a=r(9),s=r.n(a),o=r(2),l=r(1),u=r(0);function i(e){var t=e.player,r=1===t.wins?"":"s";return Object(u.jsxs)("span",{className:"infoBox",children:[Object(u.jsx)("span",{className:"spec name",children:Object(u.jsx)("font",{style:{color:t.colour},children:t.name})}),Object(u.jsx)("span",{className:"spec piece",children:Object(u.jsx)("font",{style:{color:t.colour},children:t.piece})}),Object(u.jsxs)("span",{className:"spec wins",children:[t.wins," Win",r]})]})}var j=function(e){var t=e.players,r=1===t[0].draws?"":"s";return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("header",{children:[Object(u.jsx)(i,{player:t[0]}),Object(u.jsxs)("span",{className:"spec draws",children:[t[0].draws," Draw",r]}),Object(u.jsx)(i,{player:t[1]})]})})},b=r(5);function f(e){switch(e){case 0:return"Rookie Ron";case 1:return"Seasoned Sam";case 2:return"Expert Ellie";default:return"Error Erik"}}function d(e){switch(e){case 0:return"green";case 1:return"blue";case 2:return"red";default:return"orange"}}function O(e){switch(e){case 0:return.55;case 1:return.8;case 2:return.97;default:return 1}}function m(e){var t=(new Option).style;return t.color=e,""!==t.color}function p(e){var t=e.players,r=e.setPlayers,n=Object(c.useState)({name:"",colour:""}),a=Object(l.a)(n,2),s=a[0],i=a[1];return Object(u.jsxs)("form",{className:"playerForm human",children:[Object(u.jsxs)("label",{htmlFor:"name",children:["Name:",Object(u.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"display name",value:s.name,onChange:function(e){i(Object(b.a)(Object(b.a)({},s),{},{name:e.target.value}))}})]}),Object(u.jsxs)("label",{htmlFor:"colour",children:[Object(u.jsx)("font",{style:m(s.colour)?{color:s.colour}:{},children:"Colour:"}),Object(u.jsx)("input",{type:"text",id:"colour",name:"colour",placeholder:"name or hex/decimal code",value:s.colour,onChange:function(e){i(Object(b.a)(Object(b.a)({},s),{},{colour:e.target.value.toLowerCase()}))}})]}),Object(u.jsx)("input",{className:"button",type:"submit",value:"Submit Human",onClick:function(e){e.preventDefault(),m(s.colour)?(r([].concat(Object(o.a)(t),[{name:s.name,colour:s.colour,type:"human",wins:0,draws:0,loses:0}])),i(Object(b.a)(Object(b.a)({},s),{},{name:"",colour:""}))):alert("Enter a valid colour.")}})]})}function h(e){var t=e.players,r=e.setPlayers,n=Object(c.useState)({difficulty:""}),a=Object(l.a)(n,2),s=a[0],i=a[1];return Object(u.jsxs)("form",{className:"playerForm computer",children:[Object(u.jsxs)("label",{htmlFor:"difficulty",children:["Difficulty:",Object(u.jsxs)("select",{id:"difficulty",name:"difficulty",value:s.difficulty,onChange:function(e){i(Object(b.a)(Object(b.a)({},s),{},{difficulty:e.target.value}))},children:[Object(u.jsx)("option",{value:"",children:"Random"}),Object(u.jsx)("option",{value:"0",children:"Easy"}),Object(u.jsx)("option",{value:"1",children:"Medium"}),Object(u.jsx)("option",{value:"2",children:"Hard"})]})]}),Object(u.jsx)("input",{className:"button",type:"submit",value:"Submit Computer",onClick:function(e){e.preventDefault();var c=function(e){return e?parseInt(e,10):Math.floor(3*Math.random())}(s.difficulty);r([].concat(Object(o.a)(t),[{name:f(c),type:"computer",difficulty:c,colour:d(c),wins:0,draws:0,loses:0}])),i(Object(b.a)(Object(b.a)({},s),{},{difficulty:""}))}})]})}var y=function(e){var t,r=e.players,c=e.setPlayers;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:["Enter the ",(t=r.length,t<13?["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eight","Ninth","Tenth","Eleventh","Twelth","Thirteenth"][t]:t%10===1?t+"st":t%10===2?t+"nd":t%10===3?t+"rd":t+"th").toLowerCase()," player's information, ",Object(u.jsx)("u",{children:"or"})," select a difficulty for a computer-controlled player."]}),Object(u.jsx)(p,{players:r,setPlayers:c}),Object(u.jsx)(h,{players:r,setPlayers:c})]})};var v=function(e){var t=e.players,r=e.setPlayers,c=e.setToPlay;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"message",children:"Select which player will go first."}),t.map((function(e,n){return Object(u.jsx)("button",{className:"button",type:"button",onClick:function(){c(n);var e=Object(o.a)(t);e[n].piece="X",e[1-n].piece="O",r(e)},children:Object(u.jsx)("font",{style:{color:e.colour},children:e.name})},n)}))]})};function x(e){var t=e.square,r=e.r_ind,c=e.c_ind,n=e.players,a=e.outcome,s=e.toPlay,o=e.placePiece,l="square"+function(e,t){var r="";return e<2&&(r+=" bottom"),t<2&&(r+=" right"),r}(r,c);return-1!==t?Object(u.jsx)("td",{className:l,children:Object(u.jsx)("font",{style:{color:n[t].colour},children:n[t].piece})}):-1===a&&s>=0&&"human"===n[s].type?Object(u.jsx)("td",{className:l,children:Object(u.jsx)("button",{type:"button",onClick:function(){return o(r,c)}},c)}):Object(u.jsx)("td",{className:l},c)}var w=function(e){var t=e.board,r=e.players,c=e.toPlay,n=e.outcome,a=e.placePiece;return Object(u.jsx)("table",{className:"board",children:Object(u.jsx)("tbody",{children:t.map((function(e,t){return Object(u.jsx)("tr",{className:"row",children:e.map((function(e,s){return Object(u.jsx)(x,{square:e,r_ind:t,c_ind:s,players:r,outcome:n,toPlay:c,placePiece:a},s)}))},t)}))})})};var g=function(e){var t=e.outcome,r=e.players,c=e.toPlay;return-1===t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"message",children:"Next to play:"}),Object(u.jsx)("div",{className:"message",children:Object(u.jsx)("font",{style:{color:r[c].colour},children:r[c].name})})]}):2===t?Object(u.jsx)("div",{className:"message",children:"It's a draw."}):Object(u.jsxs)("div",{className:"message",children:[Object(u.jsx)("font",{style:{color:r[t].colour},children:r[t].name})," ","wins!"]})};var N=function(e){e.outcome;var t=e.reset,r=e.resetBoard;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"button",type:"button",onClick:r,children:"Play Again"}),Object(u.jsx)("button",{className:"button",type:"button",onClick:t,children:"New Players"})]})},E=r(10),P=r(4),S=r.n(P),F=[[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]],[[0,0],[0,1],[0,2]],[[1,0],[1,1],[1,2]],[[2,0],[2,1],[2,2]],[[0,0],[1,0],[2,0]],[[0,1],[1,1],[2,1]],[[0,2],[1,2],[2,2]]],C=[[0,0],[0,1],[0,2],[1,0],[1,1],[1,2],[2,0],[2,1],[2,2]];function q(e,t){return t%4===0?e:q([e[1],2-e[0]],t-1)}function k(e,t,r){return S.a.isEqual(q(e,r),t)}function T(e,t,r){return C.every((function(c){var n=Object(l.a)(c,2),a=n[0],s=n[1],o=q(c,r),u=Object(l.a)(o,2),i=u[0],j=u[1];return e[a][s]===t[i][j]}))}function M(e,t){var r=Object(l.a)(e,2),c=r[0],n=r[1];switch(t){case 1:return[n,c];case 2:return[2-n,2-c];case 3:return[2-c,n];case 4:return[c,2-n];default:return"Error"}}function B(e,t,r){return S.a.isEqual(M(e,r),t)}function D(e,t,r){return C.every((function(c){var n=Object(l.a)(c,2),a=n[0],s=n[1],o=M(c,r),u=Object(l.a)(o,2),i=u[0],j=u[1];return e[a][s]===t[i][j]}))}var _=[2,2];function I(e){return[[1-e,-1,-1],[-1,e,-1],[-1,-1,1-e]]}var R=[0,2],H=[2,0];function J(e,t,r,c,n){return[1,2,3].some((function(t){return k(r,n,t)&&T(e,c,t)}))||[1,2,3,4].some((function(t){return B(r,n,t)&&D(e,c,t)}))}function L(e,t,r){if(J(t,0,e,function(e){return[[e,-1,-1],[-1,1-e,-1],[-1,-1,-1]]}(r),_))return 500;if(J(t,0,e,I(r),R))return-500;if(J(t,0,e,I(r),H))return-500;var c=0;return F.slice().filter((function(t){return r=e,t.some((function(e,t){return S.a.isEqual(r,e)}));var r})).forEach((function(e){c+=function(e,t,r,c){var n=r.map((function(e){var r=Object(l.a)(e,2),c=r[0],n=r[1];return t[c][n]})).sort();return S.a.isEqual(n,[-1,c,c])?1e3:S.a.isEqual(n,[-1,1-c,1-c])?100:S.a.isEqual(n,[-1,-1,c])?10:S.a.isEqual(n,[-1,-1,1-c])?9:S.a.isEqual(n,[-1,-1,-1])?2:S.a.isEqual(n,[-1,0,1])?-2:"Error"}(0,t,e,r)})),c}function z(e,t){if(t.score!==e.score)return t.score-e.score}function A(e,t,r){var c=S.a.shuffle(C.slice()).filter((function(e){return function(e,t){var r=Object(l.a)(e,2),c=r[0],n=r[1];return-1===t[c][n]}(e,t)})).filter((function(e,r,c){return function(e,t,r,c){return c.every((function(c,n){return n>=r||[1,2,3].every((function(r){return!(k(t,c,r)&&T(e,e,r))}))&&[1,2,3,4].every((function(r){return!(B(t,c,r)&&D(e,e,r))}))}))}(t,e,r,c)})).map((function(e){var c=Object(l.a)(e,2);return{row:c[0],col:c[1],score:L(e,t,r)}})).sort(z);console.log(c);var n,a=Object(E.a)(c);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(O(e)>Math.random())return s}}catch(o){a.e(o)}finally{a.f()}return S.a.shuffle(c)[0]}r(18),r(19),r(20),r(21);var W=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),r=t[0],n=t[1],a=[[-1,-1,-1],[-1,-1,-1],[-1,-1,-1]],s=Object(c.useState)(a),i=Object(l.a)(s,2),b=i[0],f=i[1],O=Object(c.useState)(-1),m=Object(l.a)(O,2),p=m[0],h=m[1],x=Object(c.useState)(-1),E=Object(l.a)(x,2),P=E[0],S=E[1];function F(e,t){var c,a,s=Object(o.a)(b);if(s[e][t]=p,f(s),c=e,a=t,C([p,b[0][a],b[1][a],b[2][a]])||C([p,b[c][0],b[c][1],b[c][2]])||C([p,b[0][0],b[1][1],b[2][2]])||C([p,b[0][2],b[1][1],b[2][0]])){S(p);var l=Object(o.a)(r);l[p].wins+=1,l[1-p].loses+=1,n(l)}else if([].concat(Object(o.a)(b[0]),Object(o.a)(b[1]),Object(o.a)(b[2])).includes(-1))h(1-p);else{S(2);var u=Object(o.a)(r);u[p].draws+=1,u[1-p].draws+=1,n(u)}}function C(e){return 1===new Set(e).size}function q(){f(a),S(-1),h(-1);var e=Object(o.a)(r);delete e[0].piece,delete e[1].piece,n(e)}return Object(c.useEffect)((function(){if(p>=0&&"computer"===r[p].type){var e=A(r[p].difficulty,b,p),t=e.row,c=e.col;setTimeout((function(){F(t,c)}),700+350*r[p].difficulty)}}),[p]),Object(c.useEffect)((function(){if(2===r.length&&r[0].colour===r[1].colour)if("computer"===r[1].type){var e=Object(o.a)(r);e[1].colour=d(-1),n(e)}else if("computer"===r[0].type){var t=Object(o.a)(r);t[0].colour=d(-1),n(t)}}),[r.length]),r.length<2?Object(u.jsx)(y,{players:r,setPlayers:n}):-1===p?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{players:r}),Object(u.jsx)(w,{board:b,players:r,toPlay:p,outcome:P,placePiece:F}),Object(u.jsx)(v,{players:r,setPlayers:n,setToPlay:h})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{players:r}),Object(u.jsx)(w,{board:b,players:r,toPlay:p,outcome:P,placePiece:F}),Object(u.jsx)(g,{players:r,toPlay:p,outcome:P}),-1!==P&&Object(u.jsx)(N,{outcome:P,reset:function(){q(),n([])},resetBoard:q})]})};s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(W,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.d5ff826b.chunk.js.map