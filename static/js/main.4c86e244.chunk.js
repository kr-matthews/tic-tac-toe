(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{18:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r.n(n),a=r(8),o=r.n(a),u=r(3),i=r(1),s=r(0);var l=function(e){var t=e.players,r=Object(i.a)(t,2),n=r[0],c=r[1];return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("header",{children:[Object(s.jsxs)("span",{children:[n.colour," - "]}),Object(s.jsxs)("span",{children:[n.piece," - "]}),Object(s.jsxs)("span",{children:[n.name," - "]}),Object(s.jsxs)("span",{children:[n.wins," win(s) || "]}),Object(s.jsxs)("span",{children:[n.draws," draw(s)"]}),Object(s.jsxs)("span",{children:[" || ",c.wins," win(s) - "]}),Object(s.jsxs)("span",{children:[c.name," - "]}),Object(s.jsxs)("span",{children:[c.piece," - "]}),Object(s.jsx)("span",{children:c.colour})]})})},j=r(4),f=r(9),b=r(10),d=r.n(b);function O(e){switch(e){case 0:return"Rookie Ron";case 1:return"Seasoned Sam";case 2:return"Expert Ellie";default:return"Error Erik"}}function h(e){switch(e){case 0:return"green";case 1:return"yellow";case 2:return"red";default:return"purple"}}function p(e){switch(e){case 0:return.55;case 1:return.8;case 2:return.97;default:return 1}}var y=[[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]],[[0,0],[0,1],[0,2]],[[1,0],[1,1],[1,2]],[[2,0],[2,1],[2,2]],[[0,0],[1,0],[2,0]],[[0,1],[1,1],[2,1]],[[0,2],[1,2],[2,2]]],m=[[0,0],[0,1],[0,2],[1,0],[1,1],[1,2],[2,0],[2,1],[2,2]];var v=[2,2];function x(e){return[[1-e,-1,-1],[-1,e,-1],[-1,-1,1-e]]}var w=[0,2],P=[2,0];function g(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))}function E(e){return function(e,t,r){for(;-1!==e[t][r];)t=Math.floor(3*Math.random()),r=Math.floor(3*Math.random());return{row:t,col:r}}(e,Math.floor(3*Math.random()),Math.floor(3*Math.random()))}function S(e,t){return t%4===0?e:S([e[1],2-e[0]],t-1)}function M(e,t,r){return g(S(e,r),t)}function C(e,t,r){return m.every((function(n){var c=Object(i.a)(n,2),a=c[0],o=c[1],u=S(n,r),s=Object(i.a)(u,2),l=s[0],j=s[1];return e[a][o]===t[l][j]}))}function F(e,t){var r=Object(i.a)(e,2),n=r[0],c=r[1];switch(t){case 1:return[c,n];case 2:return[2-c,2-n];case 3:return[2-n,c];case 4:return[n,2-c];default:return"Error"}}function k(e,t,r){return g(F(e,r),t)}function T(e,t,r){return m.every((function(n){var c=Object(i.a)(n,2),a=c[0],o=c[1],u=F(n,r),s=Object(i.a)(u,2),l=s[0],j=s[1];return e[a][o]===t[l][j]}))}function N(e,t,r,n,c){return[1,2,3].some((function(t){return M(r,c,t)&&C(e,n,t)}))||[1,2,3,4].some((function(t){return k(r,c,t)&&T(e,n,t)}))}function _(e,t,r){if(N(t,0,e,function(e){return[[e,-1,-1],[-1,1-e,-1],[-1,-1,-1]]}(r),v))return 500;if(N(t,0,e,x(r),w))return-500;if(N(t,0,e,x(r),P))return-500;var n=0;return y.slice().filter((function(t){return r=e,t.some((function(e,t){return g(r,e)}));var r})).forEach((function(e){n+=function(e,t,r,n){var c=r.map((function(e){var r=Object(i.a)(e,2),n=r[0],c=r[1];return t[n][c]})).sort();if(g(c,[-1,n,n]))return 1e3;if(g(c,[-1,1-n,1-n]))return 100;if(g(c,[-1,-1,n]))return 10;if(g(c,[-1,-1,1-n]))return 9;if(g(c,[-1,-1,-1]))return 2;if(g(c,[-1,0,1]))return-2;return"Error"}(0,t,e,r)})),n}function B(e,t){if(t.score!==e.score)return t.score-e.score}function D(e,t,r){var n=d.a.shuffle(m.slice()).filter((function(e){return function(e,t){var r=Object(i.a)(e,2),n=r[0],c=r[1];return-1===t[n][c]}(e,t)})).filter((function(e,r,n){return function(e,t,r,n){return n.every((function(n,c){return c>=r||[1,2,3].every((function(r){return!(M(t,n,r)&&C(e,e,r))}))&&[1,2,3,4].every((function(r){return!(k(t,n,r)&&T(e,e,r))}))}))}(t,e,r,n)})).map((function(e){var n=Object(i.a)(e,2);return{row:n[0],col:n[1],score:_(e,t,r)}})).sort(B);console.log(n);var c,a=Object(f.a)(n);try{for(a.s();!(c=a.n()).done;){var o=c.value;if(p(e)>Math.random())return o}}catch(u){a.e(u)}finally{a.f()}return E(t)}function I(e){var t=e.players,r=e.setPlayers,c=Object(n.useState)({name:"",colour:""}),a=Object(i.a)(c,2),o=a[0],l=a[1];return Object(s.jsxs)("form",{children:[Object(s.jsxs)("label",{htmlFor:"name",children:["Name:",Object(s.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Enter a display name...",value:o.name,onChange:function(e){l(Object(j.a)(Object(j.a)({},o),{},{name:e.target.value}))}})]}),Object(s.jsxs)("label",{htmlFor:"colour",children:["Colour:",Object(s.jsx)("input",{type:"text",id:"colour",name:"colour",placeholder:"Pick your piece colour...",value:o.colour,onChange:function(e){l(Object(j.a)(Object(j.a)({},o),{},{colour:e.target.value.toLowerCase()}))}})]}),Object(s.jsx)("input",{type:"submit",value:"Submit",onClick:function(e){e.preventDefault(),!function(e){var t=(new Option).style;return t.color=e,""!==t.color}(o.colour)?alert("Enter a valid colour."):(r([].concat(Object(u.a)(t),[{name:o.name,colour:o.colour,type:"human",wins:0,draws:0,loses:0}])),l(Object(j.a)(Object(j.a)({},o),{},{name:"",colour:""})))}})]})}function R(e){var t=e.players,r=e.setPlayers,c=Object(n.useState)({difficulty:""}),a=Object(i.a)(c,2),o=a[0],l=a[1];return Object(s.jsxs)("form",{children:[Object(s.jsxs)("label",{htmlFor:"difficulty",children:["Difficulty:",Object(s.jsxs)("select",{id:"difficulty",name:"difficulty",value:o.difficulty,onChange:function(e){l(Object(j.a)(Object(j.a)({},o),{},{difficulty:e.target.value}))},children:[Object(s.jsx)("option",{value:"",children:"Random"}),Object(s.jsx)("option",{value:"0",children:"Easy"}),Object(s.jsx)("option",{value:"1",children:"Medium"}),Object(s.jsx)("option",{value:"2",children:"Hard"})]})]}),Object(s.jsx)("input",{type:"submit",value:"Submit",onClick:function(e){e.preventDefault();var n=function(e){return e?parseInt(e,10):Math.floor(3*Math.random())}(o.difficulty);r([].concat(Object(u.a)(t),[{name:O(n),type:"computer",difficulty:n,colour:h(n),wins:0,draws:0,loses:0}])),l(Object(j.a)(Object(j.a)({},o),{},{difficulty:""}))}})]})}var q=function(e){var t,r=e.players,n=e.setPlayers;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{children:["Enter the ",(t=r.length,t<13?["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eight","Ninth","Tenth","Eleventh","Twelth","Thirteenth"][t]:t%10===1?t+"st":t%10===2?t+"nd":t%10===3?t+"rd":t+"th").toLowerCase()," player's information, or select a difficulty for a computer-controlled player."]}),Object(s.jsx)(I,{players:r,setPlayers:n}),Object(s.jsx)(R,{players:r,setPlayers:n})]})};var J=function(e){var t=e.players,r=e.setPlayers,n=e.setToPlay;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:"Select which player will go first."}),t.map((function(e,c){return Object(s.jsx)("button",{type:"button",onClick:function(){n(c);var e=Object(u.a)(t);e[c].piece="x",e[1-c].piece="o",r(e)},children:e.name},c)}))]})};function L(e){var t=e.square,r=e.r_ind,n=e.c_ind,c=e.players,a=e.outcome,o=e.toPlay,u=e.placePiece;return-1!==t?Object(s.jsxs)("span",{children:[" .",c[t].piece,". "]}):-1===a&&o>=0&&"human"===c[o].type?Object(s.jsx)("button",{type:"button",onClick:function(){return u(r,n)},children:"."},n):Object(s.jsx)("span",{children:" .... "},n)}var z=function(e){var t=e.board,r=e.players,n=e.toPlay,c=e.outcome,a=e.placePiece;return t.map((function(e,t){return Object(s.jsx)("div",{children:e.map((function(e,o){return Object(s.jsx)(L,{square:e,r_ind:t,c_ind:o,players:r,outcome:c,toPlay:n,placePiece:a},o)}))},t)}))};var A=function(e){var t=e.outcome,r=e.players,n=e.toPlay;return-1===t?Object(s.jsxs)("div",{children:["Next to play: ",r[n].name]}):2===t?Object(s.jsx)("div",{children:"It's a draw."}):Object(s.jsxs)("div",{children:[r[t].name," wins!"]})};var H=function(e){e.outcome;var t=e.reset,r=e.resetBoard;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{type:"button",onClick:r,children:"Play Again"}),Object(s.jsx)("button",{type:"button",onClick:t,children:"New Players"})]})};r(18);var G=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),r=t[0],c=t[1],a=[[-1,-1,-1],[-1,-1,-1],[-1,-1,-1]],o=Object(n.useState)(a),j=Object(i.a)(o,2),f=j[0],b=j[1],d=Object(n.useState)(-1),O=Object(i.a)(d,2),p=O[0],y=O[1],m=Object(n.useState)(-1),v=Object(i.a)(m,2),x=v[0],w=v[1];function P(e,t){var n,a,o=Object(u.a)(f);if(o[e][t]=p,b(o),n=e,a=t,g([p,f[0][a],f[1][a],f[2][a]])||g([p,f[n][0],f[n][1],f[n][2]])||g([p,f[0][0],f[1][1],f[2][2]])||g([p,f[0][2],f[1][1],f[2][0]])){w(p);var i=Object(u.a)(r);i[p].wins+=1,i[1-p].loses+=1,c(i)}else if([].concat(Object(u.a)(f[0]),Object(u.a)(f[1]),Object(u.a)(f[2])).includes(-1))y(1-p);else{w(2);var s=Object(u.a)(r);s[p].draws+=1,s[1-p].draws+=1,c(s)}}function g(e){return 1===new Set(e).size}function E(){b(a),w(-1),y(-1)}return Object(n.useEffect)((function(){if(p>=0&&"computer"===r[p].type){var e=D(r[p].difficulty,f,p),t=e.row,n=e.col;setTimeout((function(){P(t,n)}),700+350*r[p].difficulty)}}),[p]),Object(n.useEffect)((function(){if(2===r.length&&r[0].colour===r[1].colour)if("computer"===r[1].type){var e=Object(u.a)(r);e[1].colour=h(-1),c(e)}else if("computer"===r[0].type){var t=Object(u.a)(r);t[0].colour=h(-1),c(t)}}),[r.length]),r.length<2?Object(s.jsx)(q,{players:r,setPlayers:c}):-1===p?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{players:r}),Object(s.jsx)(z,{board:f,players:r,toPlay:p,outcome:x,placePiece:P}),Object(s.jsx)(J,{players:r,setPlayers:c,setToPlay:y})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{players:r}),Object(s.jsx)(z,{board:f,players:r,toPlay:p,outcome:x,placePiece:P}),Object(s.jsx)(A,{players:r,toPlay:p,outcome:x}),-1!==x&&Object(s.jsx)(H,{outcome:x,reset:function(){E(),c([])},resetBoard:E})]})};o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(G,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.4c86e244.chunk.js.map